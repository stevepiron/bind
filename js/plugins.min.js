// Avoid `console` errors in browsers that lack a console.
(function(){var e,t=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],r=n.length,i=window.console=window.console||{};while(r--){e=n[r];i[e]||(i[e]=t)}})();(function(e,t){function n(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function r(e,t,n){if(n.indexOf("%")===-1)return n;var r=e.style,i=r.width,s;return r.width=n,s=t.width,r.width=i,s}function i(e,t,n){var i=t!=="height",s=i?e.offsetWidth:e.offsetHeight,o=i?"Left":"Top",u=i?"Right":"Bottom",a=d(e),f=parseFloat(a["padding"+o])||0,l=parseFloat(a["padding"+u])||0,c=parseFloat(a["border"+o+"Width"])||0,h=parseFloat(a["border"+u+"Width"])||0,p=a["margin"+o],v=a["margin"+u],m,g;y||(p=r(e,a,p),v=r(e,a,v)),m=parseFloat(p)||0,g=parseFloat(v)||0;if(s>0)n?s+=m+g:s-=f+l+c+h;else{s=a[t];if(s<0||s===null)s=e.style[t]||0;s=parseFloat(s)||0,n&&(s+=f+l+m+g+c+h)}return s}function s(t,n,r){t.addEventListener?t.addEventListener(n,r,!1):t.attachEvent&&(t["e"+n+r]=r,t[n+r]=function(){t["e"+n+r](e.event)},t.attachEvent("on"+n,t[n+r]))}function o(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&(e.detachEvent("on"+t,e[t+n]),e[t+n]=null,e["e"+t+n]=null)}function u(e,t){if(!e)return;this.element=e,this.options={};for(var n in u.defaults)this.options[n]=u.defaults[n];for(n in t)this.options[n]=t[n];this._create(),this.build()}"use strict";var a=e.document,f="classList"in a.createElement("div"),l=f?function(e,t){return e.classList.contains(t)}:function(e,t){return n(t).test(e.className)},c=f?function(e,t){e.classList.add(t)}:function(e,t){l(e,t)||(e.className=e.className+" "+t)},h=f?function(e,t){e.classList.remove(t)}:function(e,t){e.className=e.className.replace(n(t)," ")},p=a.defaultView,d=p&&p.getComputedStyle?function(e){return p.getComputedStyle(e,null)}:function(e){return e.currentStyle},v=a.getElementsByTagName("body")[0],m=a.createElement("div"),g=v||a.createElement("body");m.style.marginTop="1%",g.appendChild(m);var y=d(m).marginTop!=="1%";g.removeChild(m);var b=["position","height"];u.defaults={isResizable:!0,gutterWidth:0,isRTL:!1,isFitWidth:!1},u.prototype={_getBricks:function(e){var t;for(var n=0,r=e.length;n<r;n++)t=e[n],t.style.position="absolute",c(t,"masonry-brick"),this.bricks.push(t)},_create:function(){this.reloadItems();var t=this.element.style;this._originalStyle={};for(var n=0,r=b.length;n<r;n++){var i=b[n];this._originalStyle[i]=t[i]||""}this.element.style.position="relative",this.horizontalDirection=this.options.isRTL?"right":"left",this.offset={};var o=d(this.element),u=this.options.isRTL?"paddingRight":"paddingLeft";this.offset.y=parseFloat(o.paddingTop)||0,this.offset.x=parseFloat(o[u])||0,this.isFluid=this.options.columnWidth&&typeof this.options.columnWidth=="function";var a=this;setTimeout(function(){c(a.element,"masonry")}),this.options.isResizable&&s(e,"resize",function(){a._handleResize()})},build:function(e){this._getColumns(),this._reLayout(e)},_getColumns:function(){var e=this.options.isFitWidth?this.element.parentNode:this.element,t=i(e,"width");this.columnWidth=this.isFluid?this.options.columnWidth(t):this.options.columnWidth||i(this.bricks[0],"width",!0)||t,this.columnWidth+=this.options.gutterWidth,this.cols=Math.floor((t+this.options.gutterWidth)/this.columnWidth),this.cols=Math.max(this.cols,1)},reloadItems:function(){this.bricks=[],this._getBricks(this.element.children)},_reLayout:function(e){var t=this.cols;this.colYs=[];while(t--)this.colYs.push(0);this.layout(this.bricks,e)},layout:function(e,t){if(!e||!e.length)return;var n,r,s,o,u,a,f;for(var l=0,c=e.length;l<c;l++){n=e[l];if(n.nodeType!==1)continue;r=Math.ceil(i(n,"width",!0)/this.columnWidth),r=Math.min(r,this.cols);if(r===1)f=this.colYs;else{s=this.cols+1-r,f=[];for(a=0;a<s;a++)u=this.colYs.slice(a,a+r),f[a]=Math.max.apply(Math,u)}var h=Math.min.apply(Math,f);for(var p=0,d=f.length;p<d;p++)if(f[p]===h)break;n.style.top=h+this.offset.y+"px",n.style[this.horizontalDirection]=this.columnWidth*p+this.offset.x+"px";var v=h+i(n,"height",!0),m=this.cols+1-d;for(a=0;a<m;a++)this.colYs[p+a]=v}var g={};this.element.style.height=Math.max.apply(Math,this.colYs)+"px";if(this.options.isFitWidth){var y=0;l=this.cols;while(--l){if(this.colYs[l]!==0)break;y++}this.element.style.width=(this.cols-y)*this.columnWidth-this.options.gutterWidth+"px"}t&&t.call(e)},_handleResize:function(){function e(){t.resize(),t._resizeTimeout=null}var t=this;this._resizeTimeout&&clearTimeout(this._resizeTimeout),this._resizeTimeout=setTimeout(e,100)},resize:function(){var e=this.cols;this._getColumns(),(this.isFluid||this.cols!==e)&&this._reLayout()},reload:function(e){this.reloadItems(),this.build(e)},appended:function(e,t,n){var r=this,s=function(){r._appended(e,n)};if(t){var o=i(this.element,"height")+"px";for(var u=0,a=e.length;u<a;u++)e[u].style.top=o;setTimeout(s,1)}else s()},_appended:function(e,t){this._getBricks(e),this.layout(e,t)},destroy:function(){var t;for(var n=0,r=this.bricks.length;n<r;n++)t=this.bricks[n],t.style.position="",t.style.top="",t.style.left="",h(t,"masonry-brick");var i=this.element.style;r=b.length;for(n=0;n<r;n++){var s=b[n];i[s]=this._originalStyle[s]}h(this.element,"masonry"),this.resizeHandler&&o(e,"resize",this.resizeHandler)}},u.getWH=i,e.Masonry=u})(window);