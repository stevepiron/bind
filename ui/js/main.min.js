$(function(){function f(){n.addClass("active");r.removeClass("hidden")}function l(){n.removeClass("active");r.addClass("hidden")}function h(e,t){c=d();if(c==null){console.log("Browser does not support HTTP Request.");return}var n="php/vote.php";n+="?id="+e;n+="&r="+t;c.onreadystatechange=p;c.open("GET",n,!0);c.send(null);return!0}function p(){(c.readyState==4||c.readyState=="complete")&&console.log(c.responseText)}function d(){var e=null;try{e=new XMLHttpRequest}catch(t){try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){e=new ActiveXObject("Microsoft.XMLHTTP")}}return e}FastClick.attach(document.body);var e=new wysihtml5.Editor("request",{toolbar:"wysihtml5-toolbar",parserRules:wysihtml5ParserRules}),t=$("body"),n=$("#userAccountTrigger"),r=$("#userDropdown"),i=$("#showMore"),s=$("#archive"),o=$(".interest"),u=$(".watchToggle"),a=$(".voteBest");t.click(function(){n.hasClass("active")&&l()});n.click(function(e){n.hasClass("active")?l():f();e.stopPropagation()});i.click(function(e){$(this).remove();s.show();e.preventDefault()});o.click(function(e){var t=$(this).parent().siblings(".interestedUsersFaces");t.slideToggle(180);e.preventDefault()});u.click(function(e){$(this).toggleClass("watching");e.preventDefault()});a.click(function(){var e=$(this),t=e.data("id"),n=e.data("request"),r=e.parent().parent().parent(),i=r.siblings();h(t,n,r,i);i.removeClass("bestAnswer");r.addClass("bestAnswer")});var c;$(".styled-select").each(function(e,t){var n="",r=$(this);r.children("option").each(function(e,t){$(t).attr("selected")=="selected"&&(n=$(t).text());$(this).parent().siblings().children(".contVal").append($("<li><span>"+$(t).text()+"</span></li>").data("value",$(t).val()))});r.siblings().children(".valSelect").text(n)});var v=$(".contVal");$(".valSelect, .arrowSelect").click(function(e){var t=$(this).siblings(".contVal");v.hide();t.hasClass("shown")?t.removeClass("shown"):t.addClass("shown").show();e.stopPropagation()});$(".contVal li").click(function(){$('select option[selected="selected"]').removeAttr("selected");$(".contVal").hide();var e=$(this).text(),t=$(this).data("value");$(this).parent().siblings(".valSelect").text(e);$('select option[value="'+t+'"]').attr("selected","selected").change()});$("html").click(function(){$(".contVal").is(":visible")&&$(".contVal").hide()})});